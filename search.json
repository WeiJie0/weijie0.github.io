[{"title":"cordova-sqlite-storage 安裝失敗問題","url":"/2021/04/17/CordovaSqliteStroge/","content":"\n今天在維護舊專案要重新 Build 時發現 cordova-sqlite-storage 這個 plugin 一直 Failed to install\n\nFailed to install ‘cordova-sqlite-storage’: CordovaError: Using “requireCordovaModule” to load non-cordova module “q” is not supported.\n\n找了許久的原因終於發現原來是 Cordova 升級至 9.0之後已經不支援該 plugin ，因為 q 模組缺少安全性\n\n\n得知這個問題後，若想快速解決這個問題就是降版至 8.1  npm uninstall cordova -g &amp; npm install cordova@8.1.0 -g但因為還須要維護其他專案，所以就不考慮降版於是繼續尋找解決辦法\n於是在官方的 github 中 issue 發現官方已經有解決這個問題，所以重新安裝 plugin 但還是發現一樣的問題…後來比對了 js 的內容發現 cordova-sqlite-storage/scripts/beforePluginInstall.js  中 已經拿掉 module q 的內容但實際使用 npm 下載卻還是舊版本，於是替換掉程式碼 就順利解決了 了，這邊提供給有相同問題的夥伴們\n將 專案中 plugins/cordova-sqlite-storage/scripts/beforePluginInstall.js 內容改成下列程式碼即可\nconst path = require(&#x27;path&#x27;);const exec = require(&#x27;child_process&#x27;).exec;const packageName = require(&#x27;../package.json&#x27;).name;module.exports = function() &#123;    return new Promise(function(resolve, reject) &#123;        console.log(&#x27;installing external dependencies via npm&#x27;);        console.log(&#x27;for package name: &#x27; + packageName);        exec(&#x27;npm install&#x27;, &#123;                cwd: path.join(&#x27;plugins&#x27;, packageName)            &#125;,            function(error, stdout, stderr) &#123;                if (error !== null) &#123;                    console.log(&#x27;npm install of external dependencies failed with error message: &#x27; + error.message);                    reject();                &#125; else &#123;                    console.log(&#x27;npm install of external dependencies ok&#x27;);                    resolve();                &#125;            &#125;        );    &#125;);&#125;;\n","tags":["Cordova","Cordova-Plugin"]},{"title":"深色模式來襲 CSS DarkMode","url":"/2021/04/18/CssDarkMode/","content":"\n再隨著手機的發展，深色主題 (Dark Mode) 成為近一兩年來備受矚目的話題，其中更由蘋果率先引入，說明其效果能對於 OLED 螢幕達到省電的效果，而一般的 LCD 螢幕效果則不顯著，之後不久 Facebook 、 Instagram則跟上這股風潮。\n\n\n相容性而瀏覽器方面也陸續支援深色模式 (除了 IE)，目前高版本的主流瀏覽器皆已支援，可以由 Can I Use 做查詢關於 “ prefers-color-scheme “ 的相容度查詢\n而在前端的部分可由以下方式配置：\nCSS media Query:prefers-color-scheme 的 Value 分別分為淺色 light 及深色 dark，而若偵測不到值則可以使用 no-preference 做設置以下範例為：淺色模式 (白底黑字)、深色模式(黑底白色)、預設或偵測不到配置時則維持白底黑字\n@media (prefers-color-scheme: light) &#123;   body &#123;      background:#fff;     color: #000;    &#125; &#125; @media (prefers-color-scheme: dark) &#123;   body &#123;      background:#000;      color: #fff;    &#125; &#125; @media (prefers-color-scheme: no-preference) &#123;   body &#123;      background:#fff;     color: #000;    &#125; &#125; \n\nCSS link media&lt;link href=&quot;./light.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; &lt;link href=&quot;./dark.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;(prefers-color-scheme: dark)&quot; /&gt;\n\n預覽效果參考 深色模式適配指南 - 掘金\n參考資料MDN web docs深色模式適配指南 - 掘金\n","tags":["HTML","CSS"]},{"title":"使用 Javascript 取得 RadioButtonList 值","url":"/2021/04/19/JsGetRadioButtonList/","content":"\n    \n\n\n\n今天一如往常寫 C#，但因為要在 onchange 時，ajax 檢查狀態，發現使用 jQuery 對 RadioButtonList 取 .val() 居然是 undefined ?\n\n\n後來打開開發者工具才發現，原來 RadioButtonList 編譯後 Html 居然是 Table 的格式…\n&lt;asp:RadioButtonList ID=&quot;Select_Verify&quot; ClientIDMode=&quot;Static&quot; runat=&quot;server&quot;&gt;    &lt;asp:ListItem Text=&quot;手機號碼&quot; Value=&quot;phone&quot;&gt;&lt;/asp:ListItem&gt;    &lt;asp:ListItem Text=&quot;Email&quot; Value=&quot;Email&quot;&gt;&lt;/asp:ListItem&gt;&lt;/asp:RadioButtonList&gt;\n\n實際編譯出的 HTML 為\n&lt;table id=&quot;Select_Verify&quot; border=&quot;0&quot;&gt;\t&lt;tbody&gt;        &lt;tr&gt;            &lt;td&gt;                &lt;input id=&quot;Select_Verify_0&quot; type=&quot;radio&quot; name=&quot;ctl00$ContentPlaceHolder1$Select_Verify&quot; value=&quot;phone&quot;&gt;                &lt;label for=&quot;Select_Verify_0&quot;&gt;手機號碼&lt;/label&gt;            &lt;/td&gt;            &lt;td&gt;                &lt;input id=&quot;Select_Verify_1&quot; type=&quot;radio&quot; name=&quot;ctl00$ContentPlaceHolder1$Select_Verify&quot; value=&quot;Email&quot;&gt;                &lt;label for=&quot;Select_Verify_1&quot;&gt;Email&lt;/label&gt;            &lt;/td&gt;\t    &lt;/tr&gt;    &lt;/tbody&gt;&lt;/table&gt;\n所以 $(&quot;#Select_Verify&quot;).val() 是操作在 table 上，所以當然是 undefined\n而 Google 上的解決方法，原生 JS 是使用迴圈取值\n&lt;asp:RadioButtonList ID=&quot;RadioButtonList1&quot; runat=&quot;server&quot; onclick=&quot;GetListItem(this)&quot;&gt;    &lt;asp:ListItem&gt;One&lt;/asp:ListItem&gt;    &lt;asp:ListItem&gt;Two&lt;/asp:ListItem&gt;    &lt;asp:ListItem&gt;Three&lt;/asp:ListItem&gt;&lt;/asp:RadioButtonList&gt;\n\nfunction GetListItem(radioButtonList) &#123;    for (var i = 0; i &lt; radioButtonList.rows.length; ++i) &#123;        if (radioButtonList.rows[i].cells[0].firstChild.checked) &#123;            alert(radioButtonList.rows[i].cells[0].firstChild.value);        &#125;    &#125;&#125;\n\n而 jQuery 的解決方式就是使用子元素去取值 ‵$(&#39;#&lt;%=RadioButtonList1.ClientID %&gt; input:checked&#39;).val())\n","tags":["Javascript","ASP.NET"]}]